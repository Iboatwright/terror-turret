##################################
# UV4L core options
##################################

driver = uvc
auto-video_nr = yes
verbosity = 8
frame-buffers = 2
drop-bad-frames = yes

##################################
# UVC driver options
##################################

device-id = 046d:0825

##################################
# Streaming server options
##################################

server-option = --port=9000
server-option = --admin-password=soylentGreenIsPeople
server-option = --enable-control-panel=no
server-option = --enable-rest-api=yes

# server-option = --bind-host-address=localhost
# server-option = --user-password=myp4ssw0rd
# server-option = --config-password=myp4ssw0rd

##################################
# HTTPS Options
##################################

### TODO we should really use SSL at some point
# server-option = --use-ssl=no
# server-option = --ssl-private-key-file=#path
# server-option = --ssl-certificate-file=#path

##################################
# Web-RTC Options
##################################

server-option = --enable-webrtc=yes
server-option = --enable-webrtc-video=yes
server-option = --webrtc-receive-video=no
server-option = --webrtc-prerenderer-smoothing=no
server-option = --webrtc-receive-audio=yes
server-option = --enable-webrtc-audio=yes
server-option = --webrtc-echo-cancellation=no
server-option = --webrtc-recdevice-index=13

# server-option = --webrtc-vad=yes
# server-option = --webrtc-ice-servers=[{"urls": "stun:stun.l.google.com:19302"}]
# server-option = --webrtc-stun-urls=stun:stun.l.google.com:19302
# server-option = --webrtc-stun-server=yes
# server-option = --webrtc-tcp-candidate-policy=1
# server-option = --webrtc-enable-dscp=no
# server-option = --webrtc-ignore-loopback=yes

##################################
# Video rendering window positions and sizes on the display.
# 
# For each window, default values can be optionally overridden, but if you
# do this you must specify one line for each of the four x, y, width, height
# window properties (in that order).
#
# If fullscreen is set the image is stretched to the maximum available display
# resolution from the specified size.
##################################

# server-option = --webrtc-renderer-window=0
# server-option = --webrtc-renderer-window=0
# server-option = --webrtc-renderer-window=480
# server-option = --webrtc-renderer-window=352
# server-option = --webrtc-renderer-fullscreen=no
# server-option = --webrtc-renderer-rotation=180
# server-option = --webrtc-renderer-opacity=255

##################################
# Fine-tuning options
##################################

server-option = --connection-timeout=10
server-option = --enable-keepalive=yes
server-option = --max-keepalive-requests=0    ### 0 means unlimited
server-option = --keepalive-timeout=7
server-option = --max-queued-connections=2
server-option = --max-streams=1
server-option = --max-threads=5
server-option = --thread-idle-time=10

##################################
# These options are specific to the HTTP/HTTPS Server serving custom pages
##################################

server-option = --www-connection-timeout=10

# server-option = --enable-www-server=no
# server-option = --www-root-path=/usr/share/uv4l/www/
# server-option = --www-index-file=index.html
# server-option = --www-port=8082
# server-option = --www-password=#password
# server-option = --www-use-ssl=no
# server-option = --www-ssl-private-key-file=#path
# server-option = --www-ssl-certificate-file=#path
# server-option = --www-webrtc-signaling-path=/webrtc
